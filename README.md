# LockedIn

## Overview

LockedIn is a Chrome extension that allows users to block specific websites. The extension provides a popup interface where users can add or remove websites from the blocklist. The blocked websites are stored in Chrome's local storage, and the extension updates Chrome's blocking rules accordingly.

## File Descriptions

1. **`popup.ts`**:
    - **Purpose**: Contains the logic for managing the list of blocked websites.
    - **Key Functions**:
        - `loadBlockedSites()`: Loads blocked websites from storage and updates the UI.
        - `addWebsite()`: Adds a new website to the blocklist.
        - `removeWebsite(site: string)`: Removes a website from the blocklist.
        - `updateBlockingRules(sites: string[])`: Updates Chrome's blocking rules.
    - **Event Listeners**: 
        - Adds a click event listener to the "Add Website" button.
        - Calls `loadBlockedSites` on DOM content loaded.

2. **`popup.html`**:
    - **Purpose**: Provides the user interface for the popup.
    - **Key Elements**:
        - `#websiteInput`: Input field for entering the website to block.
        - `#addWebsite`: Button to add the entered website to the blocklist.
        - `#blockedList`: Unordered list to display the blocked websites.

3. **`package.json`**:
    - **Purpose**: Contains metadata about the project and lists the project's dependencies.
    - **Key Fields**:
        - `name`: The name of the project.
        - `version`: The version of the project.
        - `scripts`: Scripts to run various tasks (e.g., `build`).
        - `devDependencies`: List of packages required for development.

4. **`package-lock.json`**:
    - **Purpose**: Automatically generated by npm and contains the exact versions of dependencies that were installed. Ensures consistency across different environments.

5. **`.gitignore`**:
    - **Purpose**: Specifies which files and directories should be ignored by Git.
    - **Key Entries**:
        - `node_modules/`: Directory containing installed dependencies.
        - `dist/`: Directory for compiled output.
        - `.env`: Environment variables file.

## Getting Started

To get started with the project, follow these steps:

1. **Install dependencies**:
    ```sh
    npm install
    ```

2. **Install TypeScript and Chrome type definitions**:
    ```sh
    npm install --save-dev typescript @types/chrome
    ```

3. **Initialize a [tsconfig.json](http://_vscodecontentref_/2) file** (if not already present):
    ```sh
    npx tsc --init
    ```

4. **Update the [tsconfig.json](http://_vscodecontentref_/3) file** to include the Chrome type definitions:
    ```json
    {
      "compilerOptions": {
        "target": "es5",
        "module": "commonjs",
        "strict": true,
        "esModuleInterop": true,
        "skipLibCheck": true,
        "forceConsistentCasingInFileNames": true,
        "outDir": "./dist",
        "types": ["chrome"]
      },
      "include": [
        "*.ts"
      ],
      "exclude": [
        "node_modules"
      ]
    }
    ```

5. **Reference Chrome type definitions in [popup.ts](http://_vscodecontentref_/4)**:
    Add the following line at the top of your [popup.ts](http://_vscodecontentref_/5) file:
    ```typescript
    /// <reference types="chrome" />
    ```

6. **Compile TypeScript to JavaScript**:
    ```sh
    npx tsc
    ```

7. **Update your HTML file** to reference the compiled JavaScript file. Assuming the compiled JavaScript file is in the `dist` directory, your HTML file should look like this:
    ```html
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Popup</title>
    </head>
    <body>
        <input type="text" id="websiteInput" placeholder="Enter website to block">
        <button id="addWebsite">Add Website</button>
        <ul id="blockedList"></ul>

        <!-- Reference the compiled JavaScript file -->
        <script src="dist/popup.js"></script>
    </body>
    </html>
    ```

## Usage

- Open the extension popup.
- Enter a website URL in the input field and click "Add Website" to block the website.
- The blocked websites will be listed in the popup.
- Click the ‚ùå button next to a website to remove it from the blocklist.
